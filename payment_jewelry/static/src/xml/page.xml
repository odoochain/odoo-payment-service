<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="paylox.jewelry.lines">
        <t t-if="products.length">
            <t t-foreach="products" t-as="product">
                <tr>
                    <td><span t-esc="product[0]"/> (<span t-esc="product[1].weight"/> gr)</td>
                    <td class="text-nowrap text-right"><span t-esc="format.currency(product[1].value, currency.position, currency.symbol, currency.decimal)"/></td>
                </tr>
            </t>
        </t>
        <t t-else="">
            <tr>
                <td colspan="2" class="font-italic h4 text-center text-muted">Cart is empty</td>
            </tr>
        </t>
    </t>

    <t t-name="paylox.jewelry.brands">
        <div class="d-flex flex-column">
            <t t-foreach="brands" t-as="brand">
                <button class="btn d-flex flex-row" t-att-data-id="brand['id']" t-attf-style="color:{{ foreground }} !important;border-color:{{ background }} !important;">
                    <img t-attf-src="data:image/png;base64, {{ brand['image'] }}" t-att-alt="brand['name']" draggable="false"/>
                    <h2 class="flex-fill text-700" t-esc="brand['name']"/>
                </button>
            </t>
        </div>
    </t>

    <t t-name="paylox.jewelry.items">
        <div class="payment-jewelry-items-card">
            <div>
                <div class="text-nowrap payment-jewelry-items-name" t-attf-style="background-color: {{ product.background }}; color: {{ product.foreground }};">
                    <span t-esc="product.name"/>
                </div>
                <div class="justify-content-start payment-jewelry-items-brand">
                    <button class="btn" t-att-data-id="brand['id']" t-att-data-name="brand['name']" t-att-data-image="brand['image']" t-att-data-product="product.id" field="jewelry.brand">
                        <img t-attf-src="data:image/png;base64, {{ brand['image'] }}" t-att-alt="brand['name']" t-att-data-id="brand['id']" draggable="false"/>
                    </button>
                </div>
            </div>
            <div>
                <t t-foreach="weights" t-as="weight">
                    <div t-attf-style="border: 2px solid {{ product.background }};">
                        <div class="font-weight-bold payment-jewelry-items-weight">
                            <span t-attf-style="border-color: {{ product.background }} transparent transparent transparent;"/>
                            <span class="mr4" t-esc="weight['name']"/><span>Gram</span>
                        </div>
                        <div class="font-weight-500">Price</div>
                        <div class="payment-jewelry-items-qty">
                            <div class="font-weight-bold">
                                <button class="btn" t-att-data-id="weight['id']" field="jewelry.plus">
                                    <i class="fa fa-2x fa-chevron-up"/>
                                </button>
                            </div>
                            <div>
                                <input type="number" min="0" step="1" inputmode="numeric" value="0" class="font-weight-bold" t-att-data-id="weight['id']" t-att-data-name="weight['name']" field="jewelry.qty"/>
                            </div>
                            <div>
                                Unit(s)
                            </div>
                            <div class="font-weight-bold">
                                <button class="btn" t-att-data-id="weight['id']" field="jewelry.minus">
                                    <i class="fa fa-2x fa-chevron-down"/>
                                </button>
                            </div>
                        </div>
                        <div>
                            <span class="font-size-125" t-esc="format.currency(weight['price'], currency.position, currency.symbol, currency.decimal)" t-att-data-id="weight['id']" t-att-data-value="weight['price']" t-att-data-name="weight['code']" t-options="{'widget': 'monetary', 'display_currency': weight['currency']}" style="border-radius: 3px; padding: 3px;" field="jewelry.price"/>
                        </div>
                        <div class="font-weight-500 payment-jewelry-items-amount">Amount</div>
                        <div>
                            <span class="font-size-125" t-esc="format.currency(0.0, currency.position, currency.symbol, currency.decimal)" t-att-data-name="product.name" t-att-data-id="weight['id']" t-att-data-qty="0.0" t-att-data-value="0.0" t-att-data-weight="weight['value']" t-options="{'widget': 'monetary', 'display_currency': weight['currency']}" field="jewelry.amount"/>
                        </div>
                    </div>
                </t>
            </div>
        </div>
        <div class="payment-jewelry-items-list">
            <div t-attf-style="grid-template-columns: 160px repeat({{ weights.length }}, minmax(100px, 1fr));">
                <div class="text-nowrap payment-jewelry-items-name" t-attf-style="background-color: {{ product.background }}; color: {{ product.foreground }};">
                    <span t-esc="product.name"/>
                </div>
                <div class="justify-content-start payment-jewelry-items-brand" t-attf-style="grid-column: 2 / span {{ weights.length }};">
                    <t t-foreach="brands" t-as="b">
                        <button t-attf-class="btn {{ b['id'] === brand['id'] ? 'active' : '' }}" t-att-data-id="b['id']" t-att-data-name="b['name']" t-att-data-image="b['image']" t-att-data-product="product.id" field="jewelry.brands">
                            <img t-attf-src="data:image/png;base64, {{ b['image'] }}" t-att-alt="b['name']" t-att-data-id="b['id']" draggable="false"/>
                        </button>
                    </t>
                </div>
                <div class="justify-content-end payment-jewelry-items-caption" t-attf-style="border-right: 2px solid {{ product.background }}; border-left: 2px solid {{ product.background }};">
                    Gram
                </div>
                <t t-foreach="weights" t-as="weight">
                    <div class="font-weight-bold payment-jewelry-items-weight" t-attf-style="background-color: {{ product.background }}; color: {{ product.foreground }};">
                        <span t-esc="weight['name']"/>
                    </div>
                </t>
                <div class="justify-content-end payment-jewelry-items-caption" t-attf-style="border-right: 2px solid {{ product.background }}; border-left: 2px solid {{ product.background }};">
                    Price
                </div>
                <t t-foreach="weights" t-as="weight">
                    <div class="text-nowrap">
                        <span class="base" t-esc="format.currency(weight['price'], currency.position, currency.symbol, currency.decimal)" t-att-data-id="weight['id']" t-att-data-value="weight['price']" t-att-data-name="weight['code']" style="border-radius: 3px; padding: 3px;" field="jewelry.price"/>
                    </div>
                </t>
                <div class="justify-content-end payment-jewelry-items-caption" t-attf-style="border-right: 2px solid {{ product.background }}; border-left: 2px solid {{ product.background }};">
                    Quantity
                </div>
                <t t-foreach="weights" t-as="weight">
                    <div class="font-weight-bold payment-jewelry-items-qty" t-attf-style="border: 2px solid {{ product.background }};">
                        <input type="number" min="0" step="1" inputmode="numeric" value="0" class="base font-weight-bold" t-att-data-id="weight['id']" t-att-data-name="weight['name']" field="jewelry.qty"/>
                    </div>
                </t>
                <div class="justify-content-end payment-jewelry-items-caption" t-attf-style="border-right: 2px solid {{ product.background }}; border-left: 2px solid {{ product.background }}; border-bottom: 2px solid {{ product.background }}; border-radius: 0 0 10px 10px;">
                    Amount
                </div>
                <t t-foreach="weights" t-as="weight">
                    <div class="text-nowrap">
                        <span class="base" t-esc="format.currency(0.0, currency.position, currency.symbol, currency.decimal)" t-att-data-name="product.name" t-att-data-id="weight['id']" t-att-data-qty="0.0" t-att-data-value="0.0" t-att-data-weight="weight['value']" field="jewelry.amount"/>
                    </div>
                </t>
            </div>
        </div>
    </t>
</templates>